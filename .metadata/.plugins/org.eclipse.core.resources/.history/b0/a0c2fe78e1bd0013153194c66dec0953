/*{This application to help developers create apps faster by collecting
 * the most used methods for android apps in one place, all you
 * have is to call the method you need and receive the results}
 Copyright (C) {2014} {Ahmad Sameer AlBarqawi} {iAraby}

 This program is free software; you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation; either version 2 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License along
 with this program; if not, write to the Free Software Foundation, Inc.,
 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

 For contact you can reach me on twitter: @Barqawi88
 */
package com.iaraby.utility;

import java.util.Iterator;
import java.util.Map;
import java.util.Map.Entry;
import android.content.Context;
import android.content.SharedPreferences;


public class SharedPreferencesProvider {
	
	private static SharedPreferencesProvider instance;
	
	private SharedPreferences settings;

	protected SharedPreferencesProvider(Context context, String appname){
		 settings = context.getSharedPreferences(appname, 0);	
	}
	
	public static SharedPreferencesProvider getInstance(Context context, String appname) {
		if (instance == null) {
			instance = new SharedPreferencesProvider(context, appname);
		}
		return instance;
	}
	
	public String get(String id, String def) {
		   return  settings.getString(id, def);
	}
	
	
	
	public boolean getBoolean(String id) {
		   return  settings.getBoolean(id, false);
	}
	
	public boolean getBoolean(String id, boolean def) {
		   return  settings.getBoolean(id, def);
	}
	
	public int getInt(String id) {
		   return  settings.getInt(id, 0);
	}
	
	public int getInt(String id, int def) {
		   return  settings.getInt(id, def);
	}
	public void put(String id,String value) {
	
	      SharedPreferences.Editor editor = settings.edit();
	      editor.putString(id, value);

	      // Commit the edits!
	      editor.commit();
	}
	
	public void put(String id, boolean value) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      editor.putBoolean(id, value);

	      // Commit the edits!
	      editor.commit();
	}
	
	public void put(String id, int value) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      editor.putInt(id, value);

	      // Commit the edits!
	      editor.commit();
	}
	
	public void putAll(Map<String, String> map) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      
	      Iterator<Entry<String, String>> iterator = map.entrySet().iterator();
	     while (iterator.hasNext()) {
			Entry<String, String> next = iterator.next();
			
			editor.putString(next.getKey(), next.getValue());
			
		}
	     
	      // Commit the edits!
	      editor.commit();

		
	}
	
	
	public void remove(String id) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      editor.remove(id);

	      // Commit the edits!
	      editor.commit();
	}
	

}
