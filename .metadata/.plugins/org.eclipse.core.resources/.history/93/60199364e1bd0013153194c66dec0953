package com.iaraby.utility;

import java.util.Iterator;
import java.util.Map;
import java.util.Map.Entry;
import android.content.Context;
import android.content.SharedPreferences;


public class SharedPreferencesProvider {
	
	private static SharedPreferencesProvider instance;
	
	private SharedPreferences settings;

	protected SharedPreferencesProvider(Context context, String appname){
		 settings = context.getSharedPreferences(appname, 0);	
	}
	
	public static SharedPreferencesProvider getInstance(Context context, String appname) {
		if (instance == null) {
			instance = new SharedPreferencesProvider(context, appname);
		}
		return instance;
	}
	
	public String get(String id, String def) {
		   return  settings.getString(id, def);
	}
	
	
	
	public boolean getBoolean(String id) {
		   return  settings.getBoolean(id, false);
	}
	
	public boolean getBoolean(String id, boolean def) {
		   return  settings.getBoolean(id, def);
	}
	
	public int getInt(String id) {
		   return  settings.getInt(id, 0);
	}
	
	public int getInt(String id, int def) {
		   return  settings.getInt(id, def);
	}
	public void put(String id,String value) {
	
	      SharedPreferences.Editor editor = settings.edit();
	      editor.putString(id, value);

	      // Commit the edits!
	      editor.commit();
	}
	
	public void put(String id, boolean value) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      editor.putBoolean(id, value);

	      // Commit the edits!
	      editor.commit();
	}
	
	public void put(String id, int value) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      editor.putInt(id, value);

	      // Commit the edits!
	      editor.commit();
	}
	
	public void putAll(Map<String, String> map) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      
	      Iterator<Entry<String, String>> iterator = map.entrySet().iterator();
	     while (iterator.hasNext()) {
			Entry<String, String> next = iterator.next();
			
			editor.putString(next.getKey(), next.getValue());
			
		}
	     
	      // Commit the edits!
	      editor.commit();

		
	}
	
	
	public void remove(String id) {
		
	      SharedPreferences.Editor editor = settings.edit();
	      editor.remove(id);

	      // Commit the edits!
	      editor.commit();
	}
	

}
